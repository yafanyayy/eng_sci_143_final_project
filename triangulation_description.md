## 2.5. Triangulating 3D Scene Points

Once we have established the relative poses between camera pairs, we can reconstruct the 3D structure of the scene through triangulation. In our project function `triangulate_pair`, we use the principle that a 3D point can be uniquely determined from its 2D projections in two cameras with known poses. The OpenCV function `cv2.triangulatePoints` takes the projection matrices of both cameras (computed as P = K[R|t]) and the matched 2D keypoint pairs, then solves the linear system to recover the 3D coordinates of each point in homogeneous coordinates. 

The function implements a correspondence management system to track 3D points across multiple cameras. For each matched keypoint pair, the function first calls `find_existing_point` to check if either keypoint has already been triangulated in a previous camera pair by searching the correspondence structure for matching keypoint indices. If a point already exists in one camera, `update_existing_point` adds the observation from the new camera to that existing 3D point, recording both the 2D image coordinates and the keypoint descriptor index. If neither keypoint has been seen before, `add_new_point` creates a new 3D point entry in the correspondence structure, storing the triangulated 3D coordinates along with observations from both cameras, including their 2D locations and descriptor indices. This correspondence structure is essential for the incremental reconstruction process, as it allows us to later match existing 3D points to new camera views when estimating poses for additional cameras, enabling the pipeline to build up a dense 3D point cloud while avoiding duplicate triangulation.

